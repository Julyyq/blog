<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>stylus教程5</title>

    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="/stylesheets/custom.css">
    <meta name="viewport" content="target-densitydpi=320,width=480,user-scalable=no">
    <meta content="True" name="HandheldFriendly">
    <meta content="480" name="MobileOptimized">
    <meta name="keyword" content="">
    <meta name="description" content="">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <section>
        <h1 id="stylus教程5">stylus教程5</h1>

<p>stylus中的混合和函数的定义方式完全一样，那么混合和函数的区别在哪里呢？答案是函数可以有返回值。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>add(a, b)
  a + b
body 
  padding add(10px, 5)
//编译为
body {
  padding: 15px;
}
</code></pre></div>

<h3 id="变量的默认值">变量的默认值</h3>

<p>在定义混合或者函数的时候，向less和sass一样，可以给变量赋予一个默认值，这个默认值也可以是一个有返回值的函数。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>add(a, b = a)
  a + b

add(10, 5)
// =&gt; 15

add(10)
// =&gt; 20

add(a, b = unit(a, px))
  a + b
</code></pre></div>

<h3 id="给参数命名">给参数命名</h3>

<p>stylus的这个特性的方便之处在于，允许你忘记参数的顺序。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>subtract(a, b)
  a - b

subtract(b: 10, a: 25)
</code></pre></div>

<h3 id="返回多个值">返回多个值</h3>

<p>在stylus中，就像可以给函数赋多个参数一样，可以让函数返回多个值。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sizes()
  15px 10px

sizes()
// =&gt; 15px 10px
</code></pre></div>

<p>这里需要注意的一个例外情况是，当返回的多个值是标识符的时候，比如下面这样：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>swap(a, b)
  b a
</code></pre></div>

<p>在stylus中，这样写可以理解为a是b的值，所以为了避免这种解释错误，可以写成<code class="highlighter-rouge">(b a)</code>或者使用<code class="highlighter-rouge">return</code>关键字。</p>

<h3 id="给函数重命名">给函数重命名</h3>

<p>在stylus中，给函数重命名就是如此的简单：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>plus = add
  
plus(1, 2)
// =&gt; 3
</code></pre></div>

<h3 id="将函数作为参数传递">将函数作为参数传递</h3>

<p>在JavaScript中，函数是第一类的，所以可以把函数当做参数来传递，在stylus中，同样可以使用如此强大的特性：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>invoke(a, b, fn)
  fn(a, b)

add(a, b)
  a + b

body
  padding invoke(5, 10, add)
  padding invoke(5, 10, sub)
</code></pre></div>

<p>编译为：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>body {
  padding: 15;
  padding: -5;
}
</code></pre></div>

<p>全文完</p>

      </section>
    </div>
  </body>
</html>