<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>stylus教程4</title>

    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="/stylesheets/custom.css">
    <meta name="viewport" content="target-densitydpi=320,width=480,user-scalable=no">
    <meta content="True" name="HandheldFriendly">
    <meta content="480" name="MobileOptimized">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <section>
        <h1 id="stylus4">stylus教程4</h1>

<h2 id="section">混合</h2>

<p>在stylus中，混合和函数的定义方式其实完全相同，但是它们通过不同的方式来使用。</p>

<p>比如下面这个例子，我们定义了一个<code>border-radius(n)</code>的函数，但是被当做一个混合来调用，因为它并没有被当作一个表达式，而是仅仅将属性复制进去。</p>

<pre><code>border-radius(n)
  -webkit-border-radius n
  -moz-border-radius n
  border-radius n

form input[type=button]
  border-radius(5px)
</code></pre>

<p>编译后：</p>

<pre><code>form input[type=button] {
  -webkit-border-radius: 5px;
  -moz-border-radius: 5px;
  border-radius: 5px;
}
</code></pre>

<p>别忘记stylus追求极致简单的目标，当调用混合的时候，参数的括号完全可以省略！</p>

<pre><code>border-radius(n)
  -webkit-border-radius n
  -moz-border-radius n
  border-radius n

form input[type=button]
  border-radius 5px
</code></pre>

<p>更进一步，我们可以利用局部变量<code>arguments</code>,同时也支持了可变参数的传值。</p>

<pre><code>border-radius()
  -webkit-border-radius arguments
  -moz-border-radius arguments
  border-radius arguments
</code></pre>

<p>另外一种常用混合的情况是支持不同的浏览器特性：</p>

<pre><code>support-for-ie ?= true

opacity(n)
  opacity n
  if support-for-ie
    filter unquote('progid:DXImageTransform.Microsoft.Alpha(Opacity=' + round(n * 100) + ')')

#logo
  &amp;:hover
    opacity 0.5
</code></pre>

<p>编译为：</p>

<pre><code>#logo:hover {
  opacity: 0.5;
  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=50);
}
</code></pre>

<h3 id="section-1">引用父选择器</h3>

<p>和less和sass一样，stylus中使用<code>&amp;</code>符号来引用父选择器。</p>

<h3 id="section-2">在混合中使用混合</h3>

<pre><code>inline-list()
   li
     display inline

 comma-list()
   inline-list()
   li
     &amp;:after
       content ', '
     &amp;:last-child:after
       content ''

 ul
   comma-list()
</code></pre>

<p>编译为：</p>

<pre><code>ul li:after {
  content: ", ";
}
ul li:last-child:after {
  content: "";
}
ul li {
  display: inline;
}
</code></pre>

<p>全文完</p>

      </section>
      <dl class="new-cat">
        <dt>文章列表</dt>
        <dd><a href="/2013/09/30/stylus_6.html">stylus教程6</a></dd>
        <dd><a href="/2013/09/30/stylus_5.html">stylus教程5</a></dd>
        <dd><a href="/2013/09/29/stylus_4.html">stylus教程4</a></dd>
        <dd><a href="/2013/09/29/stylus_3.html">stylus教程3</a></dd>
        <dd><a href="/2013/09/25/palindrome.html">判断是否回文数的Javascript实现</a></dd>
        <dd><a href="/2013/09/25/javascript_array_unique.html">使用JavaScript对数组去重</a></dd>
        <dd><a href="/2013/09/25/secret_of_JavaScript_2.html">JavaScript循环中的引用2</a></dd>
        <dd><a href="/2013/08/30/stylus_2.html">stylus教程2</a></dd>
        <dd><a href="/2013/08/29/stylus_1.html">stylus教程1</a></dd>
        <dd><a href="/2012/10/20/js_example.html">快速实现轮播效果</a></dd>
        <dd><a href="/2012/10/01/html_doctype.html">HTML文档的标准模式和怪异模式</a></dd>
        <dd><a href="/2012/09/03/http_header.html">Http Header简单介绍</a></dd>
        <dd><a href="/2012/09/02/html_charset.html">给html设置charset属性</a></dd>
        <dd><a href="/2012/09/01/secret_of_JavaScript.html">JavaScript循环中的引用</a></dd>
        <dd><a href="/2012/08/25/use_JavaScript_operate_cookie.html">JavaScript操作cookie</a></dd>
      </dl>
    </div>
  </body>
</html>