---
layout: default
title: stylus教程4
---
stylus教程4
===============

混合
---------------

在stylus中，混合和函数的定义方式其实完全相同，但是它们通过不同的方式来使用。

比如下面这个例子，我们定义了一个`border-radius(n)`的函数，但是被当做一个混合来调用，因为它并没有被当作一个表达式，而是仅仅将属性复制进去。

    border-radius(n)
      -webkit-border-radius n
      -moz-border-radius n
      border-radius n

    form input[type=button]
      border-radius(5px)

编译后：

    form input[type=button] {
      -webkit-border-radius: 5px;
      -moz-border-radius: 5px;
      border-radius: 5px;
    }

别忘记stylus追求极致简单的目标，当调用混合的时候，参数的括号完全可以省略！

    border-radius(n)
      -webkit-border-radius n
      -moz-border-radius n
      border-radius n

    form input[type=button]
      border-radius 5px

更进一步，我们可以利用局部变量`arguments`,同时也支持了可变参数的传值。

    border-radius()
      -webkit-border-radius arguments
      -moz-border-radius arguments
      border-radius arguments

另外一种常用混合的情况是支持不同的浏览器特性：

    support-for-ie ?= true

    opacity(n)
      opacity n
      if support-for-ie
        filter unquote('progid:DXImageTransform.Microsoft.Alpha(Opacity=' + round(n * 100) + ')')

    #logo
      &:hover
        opacity 0.5

编译为：

    #logo:hover {
      opacity: 0.5;
      filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=50);
    }

### 引用父选择器

和less和sass一样，stylus中使用`&`符号来引用父选择器。

### 在混合中使用混合

    inline-list()
       li
         display inline

     comma-list()
       inline-list()
       li
         &:after
           content ', '
         &:last-child:after
           content ''

     ul
       comma-list()

编译为：

    ul li:after {
      content: ", ";
    }
    ul li:last-child:after {
      content: "";
    }
    ul li {
      display: inline;
    }

全文完