---
layout: default
title: stylus教程1
---
stylus教程1
-------------------

less/sass/stylus俨然已经成为现在最常用的3种动态CSS语言，从这篇文章开始，我将详细的介绍stylus。

stylus简介
===============
stylus借鉴了sass的一些思想，变量/混合/函数/继承/扩展/插值等等特性在stylus里都有，但是在写法上，stylus追求极致的简单，花括号/冒号/分号以及一些逗号统统都可以省略，变量也不需要像less一样以@开头，或者向sass一样以$开头，看起来就像普通的字符串一样，甚至于调用混合时的参数的小括号也可以省略。这样的特性之下，使得stylus的结构看起来更加清晰。
    
    border-radius()
      -webkit-border-radius arguments
      -moz-border-radius arguments
      border-radius arguments
      
    body
      font 12px Helvetica, Arial, sans-serif
      
    a.button
      border-radius 5px

    //编译后：
    border-radius() {
      -webkit-border-radius: arguments;
      -moz-border-radius: arguments;
      border-radius: arguments;
    }
    body {
      font: 12px Helvetica, Arial, sans-serif;
    }
    a.button {
      border-radius: 5px;
    }

stylus支持现代编程语言的函数

    sum(nums...)
      sum = 0
      sum += n for n in nums
      
    sum(1,2,3,4)
    // => 10

这是什么概念？这意味着写CSS已经和真正的编程越来越接近，stylus可以变得非常强大！

字符串插值。在stylus中，字符串插值不需要特殊的写法：
    
    fonts = helvetica, arial, sans-serif

    body {
      padding: 50px;
      font: 14px/1.4 fonts;
    }

    //编译后：
    body {
      padding: 50px;
      font: 14px/1.4 helvetica, arial, sans-serif;
    }


你只需要简单的将变量放到你想放到的位置就行了。而在less和sass中，你却不得不将变量包裹在`@{}`或者`#{}`中，而且，stylus还支持更加强大的选择器插值和属性插值，有关插值的具体内容会在随后的文章中介绍。

stylus使用node编写,要使用stylus,只需要在terminal中运行:

    npm install stylus

如果你要全局使用stylus命令，则运行:

    npm install -g stylus

选择器
===================
stylus支持基于缩进的写法，但同时也支持css风格的写法，也就是说，花括号/冒号/分号/逗号都是可选的。

多个选择器可以合在一起写：

    textarea, input
      border 1px solid #eee

你也可以分两行以省略逗号：

    textarea 
    input
      border 1px solid #eee

但是有一处地方需要注意：
    
    div p
    input
      border: 1px solid #ccc

这样的写法有两种可能:`p`是`div`的属性值,`div p`是一个选择器。虽然我们的意图是后者，但是stylus的编译器无法区分两者。所以在这种情况下，换行的逗号是必须的：

    div p,
    input
      border: 1px solid #ccc

对父选择器的引用
=====================
和less和sass一样，对父选择器的引用都是通过`&`符号来实现。

    a
      color: #333333
      &.cur
        color: #000000

`-`号
=================
`-`号有‘负号’和'减法运算符'两种含义。在stylus中的混合或者函数，默认`-`号表示减法运算符，如果你要表示负数，那么可以用小括号包裹起来：

    pad(n)
      padding (- n)

    body
      pad(5px)

当然，只有在函数或者混合中你才需要这样做，在其它地方你可以直接写：

    body
      padding -5px

特殊样式
===============
有一些不“普通”的样式，比如IE的一些滤镜。stylus编译器无法解释，这种情况下，你可以使用`unquote`方法将这些特殊的值包裹起来：

    filter unquote('progid:DXImageTransform.Microsoft.BasicImage(rotation=1)')

    //编译后：
    filter progid:DXImageTransform.Microsoft.BasicImage(rotation=1)